<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="ja">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<link rel="stylesheet" href="dsk_sakura.css" type="text/css">
<link rel="shortcut icon" href="images/favicon.ico">
<TITLE>プラグイン定義ファイル</TITLE>
<META NAME="MS-HKWD" CONTENT="プラグイン定義ファイル">
</HEAD>
<BODY>
<script type="text/javascript" src="item.js"></script>
<noscript>[<a href="index.html">目次</a>] <br></noscript>
<!--
<noscript>[<a href="index.html">目次</a>] [<a href="web_frame.html" target="_top">フレームで表示</a>] [<a href="web_search.html">検索</a>]<br></noscript>
-->
<h2>3. 現時点の実装仕様</h2>

<h3 id=c0301>3.1. プラグイン定義ファイル(plugin.def)</h3>
プラグイン定義ファイルは以下の内容を含む。<br>
文字コードセットはShift_JISまたはBOM付きUTF-8です。文字コードセットはBOMの有無で判断する。<br>
=の前後に空白は付けない。<br>
■全プラグイン共通<br>
<div class=li200>
	<table class=f>
	<tr><td width=120><b>[Plugin]</b></td><td></td></tr>
	<tr><td>　Id</td>			<td>= プラグイン識別子。最大UNICODE63文字の、世界でユニークな文字列。</td></tr>
	<tr><td></td>				<td>　使用できる文字は、半角英数と「{}._-」のみとする。「,」と「/」は厳禁。</td></tr>
	<tr><td colspan=2>　　例）{A8E7CC0A-032D-11DF-9E9A-333D56D89593}, jp.co.google.foo.BarPlugin, etc..</td></tr>
	<tr><td>　Name</td>			<td>= プラグイン和名</td></tr>
	<tr><td>　Description</td>	<td>= 簡潔な説明</td></tr>
	<tr><td>　Type</td>			<td>= wsh / dll / ...</td></tr>
	<tr><td></td>				<td>現在はwshのみ</td></tr>
	<tr><td>　Author</td>		<td>= 作者名。Copyright等。</td></tr>
	<tr><td>　Version</td>		<td>= バージョン。4個以内の数字を.でつなげたもの。</td></tr>
	<tr><td>　Url</td>			<td>= 配布元URL</td></tr>
	</table>
<br>
	<table class=f>
	<tr><td width=120><b>[Plug]</b></td><td>- ジャックと呼び出すハンドラの対応表</td></tr>
	<tr><td>　<em>ジャック名</em></td><td>= ハンドラ</td></tr>
	<tr><td colspan=2>　　※一部のジャックには、Label属性を指定することができる。(Outline, SmartIndent等)</td></tr>
	<tr><td>　<em>ジャック名</em>.Label</td><td>= ラベル文字列</td></tr>
	<tr><td></td><td>　<a href="overview.html#c0205">ジャック一覧</a>参照</td></tr>
	<tr><td colspan=2>　　例） Outline=xxxxx　　　　　 ←アウトライン解析時にxxxxxを実行する</td></tr>
	<tr><td colspan=2>　　　　 Outline.Label=yyy　　　←タイプ別設定の選択肢にyyyが追加される</td></tr>
	</table>
<br>
	<table class=f>
	<tr><td width=120><b>[Command]</b></td><td>- 本体に追加するプラグインコマンドの定義</td></tr>
	<tr><td>　C[n]</td>			<td>= ハンドラ</td></tr>
	<tr><td>　C[n].Label</td>	<td>= コマンド名</td></tr>
	<tr><td>　C[n].Icon</td>	<td>= アイコンファイル(16x16のBMPファイル)</td></tr>
	<tr><td></td>				<td>　指定されなかった場合は<img src="images/PluginCommand.png" alt="規定のアイコン" title="(mytool.bmpが無い場合)">で表示される</td></tr>
	</table>
	　(n=1〜99。欠番があるとその後は読み込まれない)<br>
<br>
	<table class=f>
	<tr><td width=120><b>[Option]</b></td><td>- プラグインオプションの定義</td></tr>
	<tr><td>　O[n].Section</td>		<td>= オプションファイル中のSection名(最初のみ必須)</td></tr>
	<tr><td></td><td>　未指定の場合には、直前の値を使用する。</td></tr>
	<tr><td>　O[n].Key</td>			<td>= オプションファイル中のKey名(必須)</td></tr>
	<tr><td>　O[n].Label</td>		<td>= 表示項目</td></tr>
	<tr><td></td><td>　未指定の場合には、Keyを使用する。</td></tr>
	<tr><td>　O[n].Type</td>		<td>= 型、以下に定義する。</td></tr>
	<tr><td></td><td>　未定義、未指定の場合には文字列型として処理する。</td></tr>
	<tr><td></td><td><table class=f>
		<tr><td>　Str</td>	<td>: 文字列型(1024文字まで)</td></tr>
		<tr><td>　Bool</td>	<td>: ブール型 True で 1 False で 0 をプラグインオプションに設定する。</td></tr>
		<tr><td>　Int</td>	<td>: 整数型(-2147483647〜2147483647、32bit符号付整数)</td></tr>
		<tr><td>　Sel</td>	<td>: 選択型(ドロップダウンリストで選択)</td></tr>
		<tr><td></td>		<td>　選択項目は Select で指定する。</td></tr>
	</table></td></tr>
	<tr><td>　O[n].Default</td>		<td>= デフォルト値を設定する。 (Ver.2.0.8.0以降)</td></tr>
	<tr><td>　O[n].Select </td><td>= 選択項目</td></tr>
	<tr><td></td><td>　各項目は <b>|</b> で区切り、項目の中で 表示 <b>:</b> 値 の様に設定する。</td></tr>
	<tr><td></td><td>　項目内に <b>:</b> が無かった場合には、項目の値を表示、値の両方に使用する。</td></tr>
	<tr><td colspan=2>　　例） O[3].Select=自動:0|XML固定:1|XML/XHTML検出:2|XHTML固定:3|HTML固定:6</td></tr>
	</table>
	　(n=1〜99。欠番があっても読み込む)<br>
</div><br>
	■WSHプラグイン固有<br>
<div class=li200>
・<b>Plug</b>, <b>Command</b> セクションでのハンドラにはスクリプトファイル名を指定する。<br>
　例）パスは個別フォルダ起点の相対パスとする。<br>
　　Outline=outline.js
	<table class=f>
	<tr><td width=120><b>[Wsh]</b></td><td></td></tr>
	<tr><td>　UseCache</td><td>= 1：ディスクから読み込んだスクリプトをメモリ上にキャッシュする</td></tr>
	<tr><td></td>			<td>　0：キャッシュしない</td></tr>
	</table>
</div><br>
	■DLLプラグイン固有<br>
<div class=li200>
・<b><em>現在未実装</em></b><br>
・<b>Plug</b>, <b>Command</b> セクションでのハンドラにはDLLがエクスポートする関数名を指定する。
	<table class=f>
	<tr><td width=120><b>[DLL]</b></td><td></td></tr>
	<tr><td>　Name</td><td>= DLLファイル名</td></tr>
	</table>
</div><br>

<center><a href="overview.html">前へ＜</a>　　<a href="implementation02.html">＞次へ</a></center>
</BODY></HTML>
